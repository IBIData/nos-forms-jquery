/*
 *  nos-forms-jquery - v1.0.0
 *  Build html forms with JSON objects easily with jQuery and Bootstrap
 *  
 *
 *  Made by Justin Williamson
 *  Under MIT License
 */
!function(a,b,c){"use strict";function d(b,d){var e=this;this.form=a(b),this.settings=a.extend({},f,d);var g=this.settings;this.elements={text:["text","email","tel","password","number","hidden","zip","date","week","time","month","datetime-local","search","url","range","color"],textarea:["textarea"],buttons:["submit","reset","button","image"],select:["select"],file:["file"],check:["checkbox","radio"],state:["state"]},this.htmlValidation=function(){!this.settings.htmlValidation&&this.form.attr("novalidate","")},this.getAttrs=function(b){return a.extend({},b,{type:b.type&&' type="'+b.type+'"'||"",name:b.name&&' name="'+b.name+'"'||"",id:(b.id||b.name)&&' id="'+(b.id||b.name)+'"'||"",minlength:b.minlength&&' minlength="'+b.minlength+'"'||"",maxlength:b.maxlength&&' maxlength="'+b.maxlength+'"'||"",required:b.required&&" required"||"",value:b.value&&' value="'+b.value+'"'||"",placeholder:b.placeholder&&' placeholder="'+b.placeholder+'"'||"",classname:b.classname&&' class="'+b.classname+'"'||"",multiple:b.multiple&&" multiple"||"",autofocus:b.autofocus&&" autofocus"||"",disabled:b.disabled&&" disabled"||"",readonly:b.readonly&&" readonly"||"",title:b.title&&' title="'+b.title+'"'||"",size:b.size&&' size="'+b.size+'"'||"",message:e.getUserErrorMessages(b)})},this.getUserErrorMessages=function(b){return a.extend({},{required:b.required&&e.userErrorMessage.required(b)||"",valid:("email"===b.type||"zip"===b.type||"tel"===b.type)&&e.userErrorMessage.valid(b)||"",minlength:b.minlength&&b.minlength>1&&e.userErrorMessage.minlength(b)||"",min:b.min&&b.min>1&&e.userErrorMessage.min(b)||"",max:b.max&&e.userErrorMessage.max(b)||""})},this.getElements={self:this,formGroup:function(){return{start:'<div class="form-group nos-group">',end:"</div>"}},div:function(a){return{start:'<div class="'+a+'">',end:"</div>"}},fieldset:function(a){return{start:'<fieldset id="'+a+'">',end:"</fieldset>"}},label:function(a){var b;return a.required?b=' class="required-field"':"",'<label for="'+(a.id||a.name)+'"'+b+">"+a.label+"</label>"},text:function(b){var c,d;c=b.formGroup?this.formGroup():"",d=b.label?this.label(b):"";var e=a.extend(this.self.getAttrs(b),{pattern:b.pattern&&' pattern="'+b.pattern+'"'||"",autocomplete:b.autocomplete&&' autocomplete="'+b.autocomplete+'"'||"",step:b.step&&' step="'+b.step+'"'||"",min:b.min&&' min="'+b.min+'"'||"",max:b.max&&' max="'+b.max+'"'||""}),f=(c.start||"")+d+"<input"+e.type+e.name+e.id+e.minlength+e.maxlength+e.placeholder+e.classname+e.value+e.title+e.min+e.max+e.step+e.size+e.pattern+e.autocomplete+e.multiple+e.readonly+e.disabled+e.autofocus+e.required+">"+(e.message.required||"")+(e.message.minlength||"")+(e.message.valid||"")+(e.message.min||"")+(e.message.max||"")+(c.end||"");return f},buttons:function(b){var c,d=b.formGroup&&"nos-form-group nos-group "||"",e=b.inline&&"nos-inline"||"";c=b.formGroup||b.inline?this.div(d+e):"";var f=a.extend(this.self.getAttrs(b),{src:b.src&&' src="'+b.src+'"'||"",alt:b.alt&&' alt="'+b.alt+'"'||"",formaction:b.formaction&&' formaction="'+b.formaction+'"'||"",formenctype:b.formenctype&&' formenctype="'+b.formenctype+'"'||"",formmethod:b.formmethod&&' formmethod="'+b.formmethod+'"'||"",formnovalidate:b.formnovalidate&&" formnovalidate"||"",formtarget:b.formtarget&&' formtarget="'+b.formtarget+'"'||"",height:b.height&&' height="'+b.height+'"'||"",width:b.width&&' width="'+b.width+'"'||""}),g=(c.start||"")+"<input"+f.type+f.name+f.id+f.classname+f.title+f.src+f.alt+f.height+f.width+f.formtarget+f.formmethod+f.formaction+f.formenctype+f.disabled+f.value+f.formnovalidate+">&nbsp;"+(c.end||c);return g},textarea:function(b){var c,d;c=b.formGroup?this.formGroup():"",d=b.label?this.label(b):"";var e=a.extend(this.self.getAttrs(b),{rows:b.rows&&' rows="'+b.rows+'"'||"",cols:b.cols&&' cols="'+b.cols+'"'||"",wrap:b.wrap&&' wrap="'+b.wrap+'"'||""}),f=(c.start||"")+d+"<textarea"+e.name+e.id+e.title+e.minlength+e.maxlength+e.placeholder+e.classname+e.value+e.rows+e.cols+e.wrap+e.readonly+e.disabled+e.autofocus+e.required+"></textarea>"+(e.message.required||"")+(e.message.minlength||"")+(c.end||"");return f},select:function(b){var c,d,e="";c=b.formGroup?this.formGroup():"",d=b.label?this.label(b):"";var f=this.self.getAttrs(b);a.each(b.options,function(a,b){var c;c=f.selected===a?" selected":"",e+='<option value="'+a+'" '+c+">"+b+"</option>"});var g=(c.start||"")+d+"<select"+f.name+f.id+f.classname+f.multiple+f.title+f.size+f.readonly+f.disabled+f.autofocus+f.required+">"+e+"</select>"+(f.message.required||"")+(c.end||"");return g},check:function(b){var c,d,e,f="",g=this.fieldset(b.name),h=b.type;c=b.formGroup?this.formGroup():"",d=b.label?this.label(b):"",e=b.inline?"":this.div(h);var i=a.extend(this.self.getAttrs(b),{inline:b.inline&&' class="'+h+'-inline"'||"",name:b.name&&"checkbox"===b.type?' name="'+b.name+'[]"':' name="'+b.name+'"',id:' id="'+b.name+"-"}),j=(c.start||"")+d+(g.start||"");return a.each(b.options,function(c,d){"object"==typeof b.checked?f=a.inArray(c,b.checked)>-1?" checked":"":"string"==typeof b.checked?f=c===b.checked?" checked":"":console.warn('Your checkbox/radio "checked" property must be an object or string'),j+=(e.start||"")+"<label"+i.inline+"><input"+i.type+i.name+i.title+i.id+c+'" '+i.classname+' value="'+c+'"'+f+i.disabled+i.autofocus+i.required+">"+d+"</label>"+(e.end||"")}),j+=(g.end||"")+(i.message.required||"")+(c.end||"")},file:function(b){var c,d,e=this.div(b.classname);c=b.formGroup?this.formGroup():"",d=b.label?this.label(b):"";var f=a.extend(this.self.getAttrs(b),{accept:b.accept&&' accept="'+b.accept+'"'||""}),g=(c.start||"")+d+(e.start||"")+"<input"+f.type+f.name+f.id+f.title+f.accept+f.multiple+f.disabled+f.autofocus+f.required+">"+(f.message.required||"")+(e.end||"")+(c.end||"");return g},state:function(b){function c(a,b){var c,d,e=[],f={};for(c in a)e.push(c);if(e.sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}),"desc"===b)for(d=e.length-1;d>=0;d--)f[e[d]]=a[e[d]];else for(d=0;d<e.length;d++)f[e[d]]=a[e[d]];return f}var d,e;d=b.formGroup?this.formGroup():"",e=b.label?this.label(b):"";var f={"American Samoa":"AS","Federated States Of Micronesia":"FM",Guam:"GU","Marshall Islands":"MH","Northern Mariana Islands":"MP",Palau:"PW","Puerto Rico":"PR","Virgin Islands":"VI"},g={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District Of Columbia":"DC",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"},h={Alberta:"AB","British Columbia":"BC",Manitoba:"MB","New Brunswick":"NB","Newfoundland and Labrador":"NL","Nova Scotia":"NS","Northwest Territories":"NT",Nunavut:"NU",Ontario:"ON","Prince Edward Island":"PE",Quebec:"QC",Saskatchewan:"SK",Yukon:"YT"},i=c(a.extend(g,b.usTerritory&&f,b.canada&&h)),j='<option value="">'+(b.defaultSelected||"Select One...")+"</option>",k=this.self.getAttrs(b);a.each(i,function(a,b){var c;c=k.selected===b?" selected":"",j+='<option value="'+b+'" '+c+">"+a+"</option>"});var l=(d.start||"")+e+"<select "+k.name+k.id+k.classname+k.size+k.multiple+k.readonly+k.disabled+k.autofocus+k.required+">"+j+"</select>"+(k.message.required||"")+(d.end||"");return l}},this.validator={email:function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},phone:function(a){return/^[(]{0,1}[0-9]{3}[)]{0,1}[-\s\.]{0,1}[0-9]{3}[-\s\.]{0,1}[0-9]{4}$/.test(a)},zipcode:function(a){return/^\d{5}(-\d{4})?$/.test(a)},sanitize:function(a){var b=a.replace(/<script[^>]*?>.*?<\/script>/gi,"").replace(/<[\/\!]*?[^<>]*?>/gi,"").replace(/<style[^>]*?>.*?<\/style>/gi,"").replace(/<![\s\S]*?--[ \t\n\r]*>/gi,"");return b}},this.userErrorMessage={required:function(a){return'<span style="display: none;" class="help-block nos-help msg-required-'+a.name+'">'+(a.label||a.placeholder)+" is a required field</span>"},valid:function(a){return'<span style="display: none;" class="help-block nos-help msg-invalid-'+a.name+'">'+(a.label||a.placeholder)+" must be valid</span>"},minlength:function(a){return'<span style="display: none;" class="help-block nos-help msg-minlength-'+a.name+'">'+(a.label||a.placeholder)+" must be a minimum of "+a.minlength+" characters</span>"},min:function(a){return'<span style="display: none;" class="help-block nos-help msg-min-'+a.name+'">'+(a.label||a.placeholder)+" must be a minimum of "+a.min+"</span>"},max:function(a){return'<span style="display: none;" class="help-block nos-help msg-max-'+a.name+'">'+(a.label||a.placeholder)+" must be no more than "+a.max+"</span>"}},this.submitValidation=function(b){var d=a(b).serializeArray(),f={};a.each(d,function(a,b){-1===b.name.indexOf("[]")&&(f[b.name]=b.value)});var h=a("input:not(:radio, :checkbox, :button, :submit, :reset, :file, :image), textarea").filter("[required]:visible"),i=a("select").filter("[required]:visible"),j=a(":file").filter("[required]:visible"),k=a(":checkbox").parents("fieldset"),l=a(":checkbox, :radio").filter("[required]:visible").parents("fieldset");if(l){var m={},n={};l.each(function(b){var c=a(this).find(":checkbox, :radio");n[b]=".msg-required-"+a(this).attr("id"),m[b]=[],a(c).each(function(){a(this).is(":checked")&&m[b].push(this.value)}),m[b].length<1&&a(n[b]).slideDown(),a(c).change(function(){a.inArray(this,m[b])>-1?m[b].splice(this,1):m[b].push(this),m[b].length>0&&a(n[b]).slideUp()})})}if(k){var o={};k.each(function(b){var c=a(this).attr("id"),d=a(this).find(":checkbox");o[b]={},d.each(function(){var c=a(this).attr("value");o[b][c]=this.checked}),f[c]=o[b]})}a(h).each(function(b){var c=h[b],d=".msg-required-"+c.name;c.value=e.validator.sanitize(c.value),a(c).val().length<1&&(a(d).slideDown(),a(c).addClass("required-field-border"),a(this).bind("keyup keydown change blur",function(){this.value.length>=0&&(a(d).slideUp(),a(c).removeClass("required-field-border"))}))}),a(i).each(function(b){var c=i[b],d=".msg-required-"+c.name;""===a(c).val()&&(a(d).slideDown(),a(c).addClass("required-field-border"),a(this).change(function(){""!==a(this).val()&&(a(d).slideUp(),a(c).removeClass("required-field-border"))}))}),a(j).each(function(b){var d=j[b],e=".msg-required-"+d.name,g=c.getElementById(d.id).files||c.getElementById(d.id).value;0===g.length&&(a(e).slideDown(),a(d).addClass("required-field-border"),a(this).change(function(){""!==a(this).val()&&(a(e).slideUp(),a(d).removeClass("required-field-border"))})),f[d.name]=g}),a("input, select, textarea").hasClass("required-field-border")||a(".nos-help").is(":visible")||g.submit(f)},this.validate=function(b){function c(){a(":reset").click(function(){a(this).closest("form").find(":input:not(:submit, :reset, :button, :image), textarea, select").val(""),a(".nos-help").slideUp("fast"),a("input, select, textarea").removeClass("required-field-border")})}function d(b){var c=b.id||b.name;a("#"+c).keydown(function(a){this.value.length>b.maxlength&&a.preventDefault()})}function f(b){var c=".msg-minlength-"+b.name,d="#"+(b.id||b.name);a(d).keyup(function(){var d=this.value.length;d<b.minlength?a(c).slideDown():a(c).slideUp()})}function g(b){var c,d=b.name,f=".msg-invalid-"+d,g="#"+(b.id||d);a(g).bind("keyup change keydown blur",function(){switch(b.type){case"email":c=a(this).val(),c.length>0&&(e.validator.email(c)?a(f).slideUp():a(f).slideDown()),""===c&&a(f).slideUp();break;case"zip":c=a(this).val(),c.length>0&&(e.validator.zipcode(c)?a(f).slideUp():a(f).slideDown()),""===c&&a(f).slideUp();break;case"tel":c=a(this).val(),c.length>0&&(e.validator.phone(c)?a(f).slideUp():a(f).slideDown()),""===c&&a(f).slideUp()}})}function h(b,e){e.mask&&(a.mask?a("#"+(e.id||e.name)).mask(e.mask):console.warn('You must include the masked input plugin to use "mask". Go here: https://github.com/digitalBush/jquery.maskedinput')),"reset"===e.type&&c(),("email"===e.type||"zip"===e.type||"tel"===e.type)&&g(e),e.maxlength&&d(e),e.minlength&&f(e)}a.each(b,function(b,c){this.column?a.each(this.column,function(a,b){h(a,b)}):h(b,c)})},this.build=function(){var b="",c=this.settings.fields;a.each(c,function(){if(this.column)b+='<div class="'+this.classname+'">',a.each(this.column,function(){var c=this;a.each(e.elements,function(d){a.inArray(c.type,this)>-1&&(b+=e.getElements[d](c))})}),b+="</div>";else{var c=this;a.each(e.elements,function(d){a.inArray(c.type,this)>-1&&(b+=e.getElements[d](c))})}}),this.render(b)},this.render=function(c){a(b).append(c)},this.init()}var e="nosForm",f={fields:{},validate:!0,htmlValidation:!1};a.extend(d.prototype,{init:function(){var b=this.settings,c=this;this.errorMessages(),this.htmlValidation(),this.build(),this.settings.validate&&this.validate(this.settings.fields),this.form.submit(function(d){d.preventDefault(),b.validate&&c.submitValidation(a(this))})},errorMessages:function(){var a=this.settings;"object"!=typeof a.fields&&console.warn("Your form data is not an object!"),"boolean"!=typeof a.validate&&console.warn('"validate" must have a boolean value!'),"boolean"!=typeof a.htmlValidation&&console.warn('"htmlValidation" must have a boolean value!'),"function"!=typeof a.submit&&console.warn('"submit" must be a function!')}}),a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);